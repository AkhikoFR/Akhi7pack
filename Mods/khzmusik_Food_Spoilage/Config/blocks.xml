<?xml version="1.0" encoding="UTF-8"?>
<configs>
    <!-- Reset the SphereII Core feature block -->
    <set xpath="/blocks/block[@name='ConfigFeatureBlock']/property[@class='FoodSpoilage']">
        <property name="Logging" value="false" />
        <property name="FoodSpoilage" value="true" />
        <property name="Toolbelt" value="6" />
        <property name="Backpack" value="5" />
        <property name="Container" value="4" />
        <property name="MinimumSpoilage" value="1" />
        <property name="TickPerLoss" value="200" />
        <property name="SpoiledItem" value="foodRottingFlesh" />
    </set>

    <!-- Fridges, freezers, and coolers preserve food better, even if not powered -->
    <append xpath="/blocks/block[starts-with(@name, 'cntCooler') and not(contains(@name, 'Helper'))]">
        <property name="PreserveBonus" value="1" /> 
    </append>
    <append xpath="/blocks/block[starts-with(@name, 'cntRetroFridgeVer1Closed')]">
        <property name="PreserveBonus" value="1.5" />
    </append>
    <append xpath="/blocks/block[starts-with(@name, 'cntFridgeStainlessSteel') and not(contains(@name, 'Helper'))]">
        <property name="PreserveBonus" value="1.75" />
    </append>
    <append xpath="/blocks/block[@name='cntBeerCooler']">
        <property name="PreserveBonus" value="1.5" />
    </append>
    <!-- Even though they're freezers, their doors are made of glass, so they don't hold the temperature that well -->
    <append xpath="/blocks/block[starts-with(@name, 'cntFreezer') and not(contains(@name, 'Helper') or contains(@name, 'Broken'))]">
        <property name="PreserveBonus" value="1.75" />
    </append>

    <!-- Self-powered refrigerators -->
    <append xpath="/blocks">
        <block name="cntRetroFridgePowered">
            <property name="Extends" value="cntRetroFridgeVer1Closed_Player" />
            <property name="CustomIcon" value="cntRetroFridgeVer1Closed" />
            <property name="CustomIconTint" value="ccffff" />
            <property name="CreativeMode" value="Player" />
            <!-- <property name="UnlockedBy" value="perkAdvancedEngineering,cntFridgesSchematic" /> -->
            <property name="UnlockedBy" value="craftingElectrician" />
            <property name="PreserveBonus" value="4" />
        </block>
        <block name="cntFridgeStainlessSteelPowered">
            <property name="Extends" value="cntFridgeStainlessSteel_Player" param1="RepairItems" />
            <property name="CustomIcon" value="cntFridgeStainlessSteel" />
            <property name="CustomIconTint" value="ccffff" />
            <property name="Model" value="Entities/Appliances/fridgeStainlessSteelClosedPrefab" param1="main_mesh" />
            <property name="CreativeMode" value="Player" />
            <!-- <property name="UnlockedBy" value="perkAdvancedEngineering,cntFridgesSchematic" /> -->
            <property name="UnlockedBy" value="craftingElectrician" />
            <property name="PreserveBonus" value="4" />
            <property class="RepairItems">
                <property name="resourceForgedSteel" value="1" />
                <property name="resourceMetalPipe" value="2" />
                <property name="resourceElectricParts" value="10" />
            </property>
        </block>
        <block name="cntBeerCoolerPowered">
            <property name="Extends" value="cntBeerCooler" />
            <property name="CustomIcon" value="cntBeerCooler" />
            <property name="CustomIconTint" value="ccffff" />
            <property name="CreativeMode" value="Player" />
            <!-- <property name="UnlockedBy" value="perkAdvancedEngineering,cntFridgesSchematic" /> -->
            <property name="UnlockedBy" value="craftingElectrician" />
            <property name="PreserveBonus" value="4" />
        </block>
    </append>

    <!-- Add unpowered beer coolers to the appliances variant helper, sold by traders -->
    <append xpath="//block[@name='appliancesVariantHelper']/property[@name='PlaceAltBlockValue']/@value">,cntBeerCooler</append>
</configs>
