<?xml version="1.0" encoding="UTF-8"?>
<configs>
    <append xpath="/recipes">
        <!-- IPA -->
        <recipe name="drinkJarIPA" count="1" craft_area="chemistryStation" tags="perkMasterChef,learnable,chemStationCrafting">
            <ingredient name="resourceCropHopsFlower" count="10" />
            <ingredient name="drinkJarBoiledWater" count="1" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1,-2" tags="resourceCropHopsFlower" />
            </effect_group>
        </recipe>

        <!-- Refrigerator recipes -->
        <!-- Removed unpowered versions in A21 because traders sell them -->
        <recipe name="cntRetroFridgePowered" count="1" craft_time="30" craft_area="workbench" tags="learnable,workbenchCrafting">
            <ingredient name="appliancesVariantHelper" count="1" />
            <ingredient name="smallEngine" count="1" />
            <ingredient name="carBattery" count="1" />
        </recipe>
        <recipe name="cntFridgeStainlessSteelPowered" count="1" craft_time="30" craft_area="workbench" tags="learnable,workbenchCrafting">
            <ingredient name="appliancesVariantHelper" count="1" />
            <ingredient name="smallEngine" count="1" />
            <ingredient name="carBattery" count="1" />
        </recipe>
        <recipe name="cntBeerCoolerPowered" count="1" craft_time="30" craft_area="workbench" tags="learnable,workbenchCrafting">
            <ingredient name="appliancesVariantHelper" count="1" />
            <ingredient name="smallEngine" count="1" />
            <ingredient name="carBattery" count="1" />
        </recipe>

        <!-- Alternate farm plot recipe using fertilizer -->
        <recipe name="farmPlotBlockVariantHelper" count="1" tags="perkLivingOffTheLandCrafting" craft_time="20">
            <ingredient name="resourceWood" count="4" />
            <ingredient name="resourceFertilizer" count="10" />
            <ingredient name="resourcePotassiumNitratePowder" count="25" />
            <ingredient name="resourceClayLump" count="100" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="0,1,2,3" operation="perc_add" value="0,-.3,-.5,-.5" tags="foodRottingFlesh,resourcePotassiumNitratePowder,resourceClayLump" />
            </effect_group>
        </recipe>
    </append>

    <!-- PRESERVED FOODS -->
    <!-- Overriding the crafting times - usually calculated by ingredient, see XML.txt -->
    <!-- Note: craft_time is in LIVE seconds, not in-game seconds! -->
    <append xpath="/recipes">
        <!-- Recipes for vanilla canned foods - only providing recipes for foods used in other recipes -->
        <recipe name="foodCanBeef" count="1" craft_area="campfire" craft_time="600" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="foodRawMeat" count="8" />
            <ingredient name="resourcePotassiumNitratePowder" count="5" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1,-3" tags="foodRawMeat" />
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1,-2" tags="resourcePotassiumNitratePowder" />
            </effect_group>
        </recipe>
        <recipe name="foodCanDogfood" count="1" craft_area="campfire" craft_time="480" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="foodRottingFlesh" count="10" />
            <ingredient name="resourceBone" count="5" />
            <ingredient name="resourceAnimalFat" count="1" />
            <ingredient name="resourcePotassiumNitratePowder" count="5" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1,-3" tags="foodRottingFlesh" />
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1,-3" tags="resourcePotassiumNitratePowder,resourceBone" />
            </effect_group>
        </recipe>
        <recipe name="foodCanLamb" count="5" craft_area="campfire" craft_time="600" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="foodRawMeat" count="5" />
            <ingredient name="resourceAnimalFat" count="5" />
            <ingredient name="resourcePotassiumNitratePowder" count="8" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1,-2" tags="foodRawMeat,resourceAnimalFat" />
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1,-3" tags="resourcePotassiumNitratePowder" />
            </effect_group>
        </recipe>
        <recipe name="foodCanStock" count="1" craft_area="campfire" craft_time="500" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="drinkJarBoiledWater" count="1" />
            <ingredient name="resourceBone" count="10" />
            <ingredient name="resourceAnimalFat" count="1" />
            <ingredient name="resourcePotassiumNitratePowder" count="10" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1,-5" tags="resourceBone" />
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1,-2" tags="resourcePotassiumNitratePowder" />
            </effect_group>
        </recipe>
        <!-- Recipes for new canned/preserved crops -->
        <recipe name="foodCanCorn" count="1" craft_area="campfire" craft_time="150" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="drinkJarBoiledWater" count="1" />
            <ingredient name="foodCropCorn" count="2" />
            <ingredient name="resourcePotassiumNitratePowder" count="2" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="2,3" operation="base_add" value="-1" tags="resourcePotassiumNitratePowder" />
            </effect_group>
        </recipe>
        <recipe name="foodCanCorn" count="1" craft_area="campfire" craft_time="120" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="drinkJarBoiledWater" count="1" />
            <ingredient name="foodCropGraceCorn" count="1" />
            <ingredient name="resourcePotassiumNitratePowder" count="2" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="2,3" operation="base_add" value="-1" tags="resourcePotassiumNitratePowder" />
            </effect_group>
        </recipe>
        <recipe name="foodCanPotato" count="1" craft_area="campfire" craft_time="90" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="drinkJarBoiledWater" count="1" />
            <ingredient name="foodCropPotato" count="2" />
            <ingredient name="resourcePotassiumNitratePowder" count="2" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="2,3" operation="base_add" value="-1" tags="resourcePotassiumNitratePowder" />
            </effect_group>
        </recipe>
        <recipe name="foodCanPumpkin" count="1" craft_area="campfire" craft_time="90" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="foodCropPumpkin" count="1" />
            <ingredient name="resourcePotassiumNitratePowder" count="2" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="2,3" operation="base_add" value="-1" tags="resourcePotassiumNitratePowder" />
            </effect_group>
        </recipe>
        <recipe name="foodCanMushrooms" count="1" craft_area="campfire" craft_time="120" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="drinkJarBoiledWater" count="1" />
            <ingredient name="foodCropMushrooms" count="2" />
            <ingredient name="resourcePotassiumNitratePowder" count="2" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="2,3" operation="base_add" value="-1" tags="resourcePotassiumNitratePowder" />
            </effect_group>
        </recipe>
        <recipe name="foodPreservedBlueberries" count="1" craft_area="campfire" craft_time="50" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <!-- Most recipes take 4-5 Blueberries, 0-1 water -->
            <ingredient name="drinkJarBoiledWater" count="1" />
            <ingredient name="foodCropBlueberries" count="5" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="2,3" operation="base_add" value="-1" tags="foodCropBlueberries" />
            </effect_group>
        </recipe>
        <!-- Snowberries were removed in A20 -->
        <!-- <recipe name="foodPreservedSnowberries" count="1" craft_area="campfire" craft_time="50" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="drinkJarBoiledWater" count="1" />
            <ingredient name="resourceCropSnowberryPlant" count="5" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="2,3" operation="base_add" value="-1" tags="resourceCropSnowberryPlant" />
            </effect_group>
        </recipe> -->
        <!-- New for A20: Smoked/cured meat -->
        <recipe name="foodPreservedMeat" count="1" craft_area="campfire" craft_time="120" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="foodRawMeat" count="5" />
            <ingredient name="resourceCoal" count="5" />
            <ingredient name="resourcePotassiumNitratePowder" count="5" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1" tags="foodRawMeat" />
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1" tags="resourceCoal" />
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1,-2" tags="resourcePotassiumNitratePowder" />
            </effect_group>
        </recipe>
        <!-- Recipes for existing foods, using canned/preserved substitutes -->
        <recipe name="drinkYuccaJuiceSmoothie" count="1" tags="perkMasterChef,learnable">
            <ingredient name="foodCropYuccaFruit" count="4" />
            <ingredient name="foodPreservedBlueberries" count="1" />
        </recipe>
        <recipe name="foodBlueberryPie" count="1" craft_area="campfire" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="foodPreservedBlueberries" count="1" />
            <ingredient name="foodEgg" count="1" />
            <ingredient name="foodCornMeal" count="1" />
            <ingredient name="resourceAnimalFat" count="1" />
        </recipe>
        <recipe name="foodHoboStew" count="1" craft_time="65" craft_area="campfire" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="foodRottingFlesh" count="10" />
            <ingredient name="foodCanPotato" count="1" />
            <ingredient name="foodCanCorn" count="1" />
            <ingredient name="resourceAnimalFat" count="1" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-2,-4" tags="foodRottingFlesh" />
            </effect_group>
        </recipe>
        <recipe name="foodMeatStew" count="1" craft_area="campfire" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="foodRawMeat" count="5" />
            <ingredient name="foodCanPotato" count="1" />
            <ingredient name="foodCanCorn" count="1" />
            <ingredient name="resourceAnimalFat" count="1" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1,-2" tags="foodRawMeat" />
            </effect_group>
        </recipe>
        <recipe name="foodPumpkinPie" count="1" craft_area="campfire" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="foodCanPumpkin" count="1" />
            <ingredient name="foodEgg" count="1" />
            <ingredient name="foodCornMeal" count="1" />
            <ingredient name="resourceAnimalFat" count="1" />
        </recipe>
        <recipe name="foodPumpkinCheesecake" count="1" craft_area="campfire" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="foodCanPumpkin" count="1" />
            <ingredient name="foodEgg" count="1" />
            <ingredient name="foodCornMeal" count="1" />
            <ingredient name="resourceAnimalFat" count="1" />
            <ingredient name="drinkJarBeer" count="1" />
        </recipe>
        <recipe name="foodPumpkinBread" count="1" craft_area="campfire" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="foodCanPumpkin" count="1" />
            <ingredient name="foodCornMeal" count="1" />
        </recipe>
        <recipe name="foodShepardsPie" count="1" craft_area="campfire" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="foodCanLamb" count="1" />
            <ingredient name="foodCanPeas" count="1" />
            <ingredient name="foodCanCorn" count="1" />
            <ingredient name="foodCanPotato" count="1" />
            <ingredient name="resourceAnimalFat" count="3" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1,-2" tags="resourceAnimalFat" />
            </effect_group>
        </recipe>
        <recipe name="foodSpaghetti" count="1" craft_area="campfire" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="foodCanBeef" count="1" />
            <ingredient name="foodCanPasta" count="1" />
            <ingredient name="foodCanMushrooms" count="1" />
            <ingredient name="resourceAnimalFat" count="3" />
            <effect_group>
                <passive_effect name="CraftingIngredientCount" level="1,3" operation="base_add" value="-1,-2" tags="resourceAnimalFat" />
            </effect_group>
        </recipe>
        <recipe name="foodVegetableStew" count="1" craft_area="campfire" craft_tool="toolCookingPot" tags="perkMasterChef,learnable">
            <ingredient name="foodCanPotato" count="1" />
            <ingredient name="foodCanCorn" count="1" />
            <ingredient name="foodCanMushrooms" count="1" />
        </recipe>
    </append>
</configs>